CREATE TABLE users(
id INTEGER PRIMARY KEY AUTOINCREMENT,
first_name VARCHAR NOT NULL,
last_name VARCHAR NOT NULL,
age INTEGER DEFAULT 18);

CREATE TABLE publishing_house(
id INTEGER PRIMARY KEY AUTOINCREMENT,
name VARCHAR NOT NULL,
rating INTEGER DEFAULT 5);

CREATE TABLE books(
id INTEGER PRIMARY KEY AUTOINCREMENT,
title VARCHAR NOT NULL,
author VARCHAR NOT NULL,
year INTEGER,
price INTEGER,
publishing_house_id INTEGER,
FOREIGN KEY (publishing_house_id) REFERENCES publishing_house(id));

CREATE TABLE purchases(
id INTEGER PRIMARY KEY AUTOINCREMENT,
user_id INTEGER,
books_id INTEGER,
date DATETIME NOT NULL,
FOREIGN KEY (user_id) REFERENCES users(id),
FOREIGN KEY (books_id) REFERENCES books(id));